\section{Introduction}
%In our introduction we want to start from big picture (LIGO, ML, pipelines)
%and narrow down to what work we are presenting here and why it is important. We
%also describe in which ways it is novel and how it compares to previous works
%like in~\cite{Chatterjee:2019avs}. We may also want to cite~\cite{Sachdev:2020lfd}. 

The anticipated fourth observing run (O4) by LIGO, Virgo and KAGRA (LVK)
gravitational wave (GW) detectors is expected to contribute significantly in
the already established field of multi-messenger astronomy. The simultaneous
detection of a binary neutron star (BNS) merger in gravitational and
electromagnetic (EM) waves in 2017 (GW170817)~\cite{LIGOScientific:2017ync}
gave answers to long-lasting problems, such as the origin and production of
short Gamma Ray Bursts (GRBs)~\cite{LIGOScientific:2017ync}, the production of heavy 
elements during a merger of 
BNS~\cite{Arcavi:2017xiz,Chornock:2017sdf,2017Sci...358.1570D,2017Natur.551...80K}, 
ruled out Equations of State (EoS)~\cite{LIGOScientific:2018cki} and alternative theories of 
gravity~\cite{PhysRevLett.119.251301}. Such simultaneous observations are 
crucial for a variety of scientific fields, like astrophysics, particle 
physics, cosmology, and therefore the necessity to coordinate them successfully 
emerges. Among the challenges that this attempt brings is the early alert of the 
EM telescopes/facilities from the GW detectors.

Some of the expected sources to produce an EM counterpart are the compact 
binary coalescences (CBC), such as a neutron star with another neutron star 
(NSNS) or with a black hole (NSBH). In the case of NSBH, tidally disrupted 
matter could form an accretion disk, with high temperature, around the BH 
where processes like pair production and annhilation could power a short GRB. 
If the ejecta is unbound, r-process neucleosynthesis could power a kilonova~\cite{Lattimer:1974slx,LiXin:1998,Korobkin:2012uy,Barnes:2013wka,Tanaka:2013ana,Kasen:2014toa}. 
In a BNS, even if tidal forces are not strong enough, the expulsion of neutron 
rich material after the physical contact during merger can result in a kilonova, as seen in the case of GW170817~\cite{LIGOScientific:2017ync,Arcavi:2017xiz,Coulter:2017wya,Kasliwal:2017ngb,Lipunov:2017dwd,DES:2017kbs,Tanvir:2017pws}. 
There could also be relativistic outflows producing a GRB, like in the case of 
GW170817, or a prompt collapse which could supress the GRB~\cite{Ruiz:2017inq}. Therefore, many 
complex physical processes could lead to EM emission and the presence of 
post-merger mass remnant is a common factor.


%The breakthrough \mmt{\sout{observation} detection of \sout{the binary neutron star (BNS) merger simultaneously in gravitational and electromagnetic (EM) %waves} the gravitational waves (GWs) generated by a binary neutron star merger (BNS) together with an electromagnetic (EM) %counterpart}~\cite{LIGOScientific:2017ync} marked a new era of multi-messenger astronomy \mmt{\sout{including for first time gravitational waves (GWs)}. %So far, the LIGO-Virgo-KAGRA (LVK) Collaboration (cites*) has reported the observation of such merger, GW170817 (cite*) with its EM counterpart %GRB170817A/AT2017gfo (cites*), and also GW190425 (cite*), but in this last case no EM counterpart was detected.} The event GW170817 gave answers to open %questions, such as the origin and production of gamma-ray bursts (*cite), the production of heavy elements during a merger of BNS (*cite), rule out %Equations of State (EoS) (*cite) and alternative theories of gravity (*cite), +?. Such simultaneous observations are crucial for a variety of scientific %fields, like astrophysics, particle physics, cosmology, and therefore the necessity to coordinate them successfully emerges. Among the challenges that %this attempt brings is the early alert of the EM telescopes/facilities from the GW detectors. Some of the expected sources to produce an EM counterpart %are the compact binary coalescences (CBC), such as a neutron star with another neutron star (NSNS) or with a black hole (NSBH). In the case of a NSNS %coalescence: GRBs, neutron star. For NSBH: accretion disk --> short GRBs.    


Numerical relativity (NR) simulations can provide accurate information about the coalesence of the binary system and its aftermath/remnant. However, these simulations are computationally expensive and require a lot of time, making them inapropriate to alert follow-up EM searches. Another approach to computing
remnant matter is via emperical fits of NR results, which provides an expression for the remnant mass as shown in~\cite{Foucart:2012nc,Foucart:2018rjc}. These fits, however, demand more information (like the EoS) than what is available at real-time in detector data~\cite{Chatterjee:2019avs}. Another factor adding to the difficulties of estimating the post-merger remnant matter is the inaccuracies of the source parameters calculated by modeled search pipelines in real-time. Consequently, it is important to alert the EM ground and space telescopes quickly and accurately in order to have synchronized EM observations.

 
In the previous observing runs in LIGO and Virgo there were used different matched-filtering pipelines in low latency in order to detect GWs from CBC, such as the GstLAL-based inspiral pipeline (GstLAL)~\cite{Sachdev:2020lfd}, the PyCBCLive~\cite{Nitz_2018}, the MBTAOnline~\cite{Adams_2016}. These searches are based on a discrete template bank of CBC waveforms that provide the masses, the dimensionless aligned/anti-aligned spins of the objects along the orbital angular momentum. The best matching template was performed through a detection statistic during the second observing run (O2), which was the first time that real-time data was made available to EM observatories to support follow-up observations. Classification of the binary systems was performed according to the following probabilities: the probability that at least one of the objects in the binary is a NS, p(HasNS) and the probability that there will be a matter remnant p(HasRemnant). For instance, in a BNS merger both probabilities will be equal to one, while in a binary black hole (BBH) merger, both probabilities will be zero. In~\cite{Chatterjee:2019avs} the authors approached the problem as binary classification and implemented machine learning (ML) supervised algorithms, such as KNeighborClassifier (KNN)~\cite{Pedregosa:2011ork} and Random Forest (RF) classifiers. These methods were used during the O3 to calculate the probability that an EM-bright progenitor is present in the system.

%Say a few things about the early recovery of the parameters and explain what Deep does.

In this work, we revisit and extend the problem of classification in low-latency. First, we propose the use of a combined probability of whether there is a NS in the event and whether there is a remnant. By doing so, we exclude the unphysical situation of having a larger probability of having a remnant than having a NS. In addition, we perform a thorough study of different algorithms, perform several tests and account for different EoSs. We provide a direct comparison between the methods we used, as well as the ones already implemented e.g. in~\cite{Chatterjee:2019avs}. 

Different methods of classification were considered, such as KNN, RF, Support Vector Machine and were tested for the same data. Here, we present the ones that performed best, the RF and KNN. The last one is also used in~\cite{Chatterjee:2019avs} and thus we provide a direct comparison. 

The structure of the paper is as follows. In Section 2 there is a detailed description of the data used, as well as the labeling introduced. In Section 3, the classification methods, namely RF and KNN are presented. The 4th Section is dedicated to the results of each method and their comparison. Lastly, there is a summary of the work carried out in this paper and the suggestion to use these methods in the next observing runs.
